# Logger API

A lightweight logger with color-coded output, module prefixes, and automatic silencing in production.

```ts
import { Logger } from 'data-provider/logger';
```

---

## `new Logger(options?)`

**Options**

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `prefix` | `string` | `undefined` | Prepended to every message: `[prefix][LEVEL]: ...` |
| `isEnabled` | `boolean` | `true` (non-production) | Override the default enabled state |

By default, the logger is **disabled when `NODE_ENV === 'production'`** and enabled everywhere else.

```ts
const logger = new Logger({ prefix: 'Auth' });
```

---

## Methods

All methods share the same signature:

```ts
logger.info(message: string, ...args: unknown[]): void
logger.warn(message: string, ...args: unknown[]): void
logger.error(message: string, ...args: unknown[]): void
logger.debug(message: string, ...args: unknown[]): void
```

Additional `args` are passed through to the underlying console method and displayed inline.

---

## Log levels

| Level | Method | Color | Console method |
|-------|--------|-------|----------------|
| Info | `info()` | Blue `#2196F3` | `console.log` |
| Warn | `warn()` | Orange `#FF9800` | `console.warn` |
| Error | `error()` | Red `#F44336` | `console.error` |
| Debug | `debug()` | Gray `#9E9E9E` | `console.debug` |

---

## Examples

### Basic

```ts
const logger = new Logger();

logger.info('Server started');
logger.warn('Memory usage above 80%');
logger.error('Database connection failed', new Error('ECONNREFUSED'));
logger.debug('Request payload', { method: 'POST', body });
```

### With prefix

```ts
const logger = new Logger({ prefix: 'Auth' });

logger.info('User signed in', { userId: '123' });
// → [Auth][INFO]: User signed in { userId: '123' }
```

### Force-enable in production

```ts
const auditLogger = new Logger({ isEnabled: true });
```

### Per-module loggers

```ts
const authLogger = new Logger({ prefix: 'Auth' });
const apiLogger  = new Logger({ prefix: 'API' });
const dbLogger   = new Logger({ prefix: 'DB' });
```

---

## Best practices

- Use `info` for normal application flow
- Use `warn` for recoverable issues or degraded behavior
- Use `error` for failures that need attention
- Use `debug` for internal state during development — it won't appear in production
- Pass structured objects as additional args rather than string concatenation:

```ts
// Good
logger.error('Request failed', { url, status: res.status, duration });

// Avoid
logger.error(`Request to ${url} failed with status ${res.status}`);
```
